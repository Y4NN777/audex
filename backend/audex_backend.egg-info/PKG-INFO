Metadata-Version: 2.4
Name: audex-backend
Version: 0.1.0
Summary: FastAPI backend for the AUDEX MVP.
Author: AUDEX Team
Requires-Python: >=3.11
Description-Content-Type: text/markdown
Requires-Dist: fastapi<0.112,>=0.111
Requires-Dist: uvicorn[standard]<0.31,>=0.30
Requires-Dist: pydantic<3.0,>=2.7
Requires-Dist: pydantic-settings<3.0,>=2.4
Requires-Dist: python-multipart<0.0.8,>=0.0.7
Requires-Dist: httpx<0.28,>=0.27
Requires-Dist: Pillow<11.0,>=10.4
Provides-Extra: dev
Requires-Dist: pytest<9.0,>=8.2; extra == "dev"
Requires-Dist: pytest-asyncio<0.24,>=0.23; extra == "dev"
Requires-Dist: ruff<0.5,>=0.4.2; extra == "dev"

# Backend AUDEX

Squelette FastAPI pour le MVP AUDEX. L’objectif est de fournir rapidement des endpoints d’ingestion, d’analyse et de génération de rapports tout en restant modulable.

## Structure

```
app/
  api/
    v1/
      endpoints/    # Contrôleurs versionnés (ingestion, auth, etc.)
      routes.py     # Regroupe les routers
  core/             # Configuration et constantes
  services/         # Logique métier (pipelines IA, scoring…)
  models/           # Modèles ORM à venir
  schemas/          # Schémas Pydantic (I/O API)
  main.py           # Factory FastAPI + endpoint health
tests/              # Pytest (inclut smoke tests ASGI)
pyproject.toml      # Dépendances et outils (FastAPI, Ruff…)
```

## Démarrage rapide

```bash
make install-backend  # crée backend/.venv et installe les deps
make dev-backend      # lance uvicorn via le virtualenv
```

Depuis le dossier `backend/`, un `Makefile` local propose également :

```bash
cd backend
source .venv/bin/activate  # activer l'environnement virtuel si nécessaire
make test                  # lance pytest
make run                   # démarre uvicorn en local
```

L’API est exposée sur `http://localhost:8000`. La documentation interactive est disponible sur `http://localhost:8000/api/docs`. Pour supprimer l’environnement virtuel créé automatiquement : `make clean-backend-venv`.

## Variables d’environnement

Copier `.env.example` vers `.env` puis adapter les valeurs (chemins de stockage, CORS, secrets JWT…). Les paramètres sont chargés via `pydantic-settings`.

## Tests

```bash
cd backend
pytest
```

Le test de santé (`/health`) vérifie que l’application démarre correctement. De nouveaux tests seront ajoutés à mesure que les services (ingestion, IA, rapport) s’implémentent.
